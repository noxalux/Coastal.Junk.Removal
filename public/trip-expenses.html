<!-- File: trip-expenses.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trip Expenses | Coastal Junk Removal</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <main class="trip-expense-entry">
    <header>
      <h1>Log Trip Expenses</h1>
      <a href="/admin.html">Back to Dashboard</a>
    </header>

    <form action="/save-trip-expense" method="POST">
      <fieldset>
        <legend>Trip Details</legend>

        <label for="date">Date of Trip</label>
        <input type="date" id="date" name="date" required>

        <label for="miles">Miles Driven</label>
        <input type="number" id="miles" name="miles" min="0" value="0" oninput="calculateTotal()">

        <label for="fuelCost">Fuel Cost ($)</label>
        <input type="number" id="fuelCost" name="fuelCost" step="0.01" value="0" oninput="calculateTotal()">

        <label for="landfillTrips">Landfill Trips</label>
        <input type="number" id="landfillTrips" name="landfillTrips" min="0" value="0" oninput="calculateTotal()">

        <label for="maintenance">Maintenance Cost ($)</label>
        <input type="number" id="maintenance" name="maintenance" step="0.01" value="0" oninput="calculateTotal()">

        <label for="laborHours">Labor Hours</label>
        <input type="number" id="laborHours" name="laborHours" min="0" step="0.5" value="0" oninput="calculateTotal()">

        <label for="notes">Notes</label>
        <textarea id="notes" name="notes" rows="4" placeholder="Optional notes about this trip..."></textarea>
      </fieldset>

      <fieldset>
        <legend>Calculated Summary</legend>
        <p><strong>Mileage Charge:</strong> $<span id="mileageCharge">0.00</span></p>
        <p><strong>Landfill Fees:</strong> $<span id="landfillCharge">0.00</span></p>
        <p><strong>Labor Cost (at $60/hr):</strong> $<span id="laborCharge">0.00</span></p>
        <p><strong>Total Trip Cost:</strong> $<span id="totalCost">0.00</span></p>
      </fieldset>

      <button type="submit">Save Trip Expense</button>
    </form>
  </main>

  <script>
    function calculateTotal() {
      const miles = parseFloat(document.getElementById('miles').value) || 0;
      const fuel = parseFloat(document.getElementById('fuelCost').value) || 0;
      const trips = parseFloat(document.getElementById('landfillTrips').value) || 0;
      const maintenance = parseFloat(document.getElementById('maintenance').value) || 0;
      const laborHours = parseFloat(document.getElementById('laborHours').value) || 0;

      const mileageCharge = miles * 2;
      const landfillCharge = trips * 125;
      const laborCharge = laborHours * 60;

      const total = mileageCharge + landfillCharge + fuel + maintenance + laborCharge;

      document.getElementById('mileageCharge').innerText = mileageCharge.toFixed(2);
      document.getElementById('landfillCharge').innerText = landfillCharge.toFixed(2);
      document.getElementById('laborCharge').innerText = laborCharge.toFixed(2);
      document.getElementById('totalCost').innerText = total.toFixed(2);
    }

    calculateTotal();
  </script>
</body>
</html>
